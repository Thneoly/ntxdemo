version: "1.0"
name: simple_test
workbook:
  resources:
    - id: resource
      type: http_endpoint
      properties:
        ip: "127.0.0.1"
        port: "8080"

actions:
  actions:
    - id: test-action
      call: get
      with:
        url: "http://{{resource.ip}}:{{resource.port}}/asset"

load:
  ramp_up:
    phases:
      - at_second: 0
        spawn_users: 1

  user_lifetime:
    mode: once
    iterations: 1
    think_time: 0s

  user_resources:
    ip_binding:
      enabled: false
      pool_id: noop
      strategy: per_user
      release_on: user_exit

workflows:
  nodes:
    - id: start
      type: action
      action: test-action
      edges:
        - to: end
          trigger:
            condition: "true"
    - id: end
      type: end
